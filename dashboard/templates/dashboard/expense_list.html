{% extends 'dashboard/base.html' %}
{% block title %}إدارة المصاريف{% endblock %}
{% block content %}
<div class="flex justify-between items-center mb-6">
<h2 class="text-3xl font-bold text-gray-800">سجل المصاريف</h2>
<a href="{% url 'expense_create' %}" class="btn-primary py-2 px-5 rounded-lg font-semibold">إضافة مصروف جديد</a>
</div>
<div class="card overflow-hidden">
<table class="w-full text-right">
<thead class="bg-gray-50 border-b">
<tr><th class="p-4">التاريخ</th><th class="p-4">المبنى</th><th class="p-4">الفئة</th><th class="p-4">الوصف</th><th class="p-4">المبلغ (ر.ع)</th><th class="p-4">إجراءات</th></tr>
</thead>
<tbody>
{% for expense in expenses %}
<tr class="border-b hover:bg-gray-50">
<td class="p-4">{{ expense.expense_date|date:"d M Y" }}</td><td class="p-4">{{ expense.building.name }}</td><td class="p-4">{{ expense.get_category_display }}</td>
<td class="p-4">{{ expense.description }}</td><td class="p-4 font-mono text-red-600">{{ expense.amount|floatformat:2 }}</td>
<td class="p-4 space-x-2 space-x-reverse"><a href="{% url 'expense_update' expense.pk %}" class="text-blue-600 hover:underline">تعديل</a><a href="{% url 'expense_delete' expense.pk %}" class="text-red-600 hover:underline">حذف</a></td>
</tr>
{% empty %}<tr><td colspan="6" class="p-6 text-center text-gray-500">لم يتم تسجيل أي مصاريف بعد.</td></tr>{% endfor %}
</tbody>
</table>
</div>
{% endblock %}